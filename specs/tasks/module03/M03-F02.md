# Task Specification: M03-F02

```xml
<task_spec id="M03-F02" version="1.0">
<metadata>
  <title>Define Model Dimension Constants and Total Dimension</title>
  <status>ready</status>
  <layer>foundation</layer>
  <sequence>2</sequence>
  <implements>constitution.yaml: embeddings.dimensions</implements>
  <depends_on>M03-F01</depends_on>
  <estimated_hours>1</estimated_hours>
</metadata>

<context>
Define dimension constants for all 12 models and total concatenated dimension.
Calculate FuseMoE input dimension accurately.

The constants must reflect:
- Individual model output dimensions
- Projected dimensions for sparse/HDC models
- Total concatenated dimension for FuseMoE input
- Final fused output dimension (1536D)
</context>

<definition_of_done>
  <signatures>
```rust
pub mod dimensions {
    pub const SEMANTIC: usize = 1024;
    pub const TEMPORAL_RECENT: usize = 512;
    pub const TEMPORAL_PERIODIC: usize = 512;
    pub const TEMPORAL_POSITIONAL: usize = 512;
    pub const CAUSAL: usize = 768;
    pub const SPARSE_ACTIVE: usize = 1536; // projected from 30K
    pub const CODE: usize = 768;
    pub const GRAPH: usize = 384;
    pub const HDC: usize = 1024; // 10K-bit projected to 1024
    pub const MULTIMODAL: usize = 768;
    pub const ENTITY: usize = 384;
    pub const LATE_INTERACTION: usize = 128; // per-token, pooled

    pub const TOTAL_CONCATENATED: usize = 8320; // sum of all (corrected)
    pub const FUSED_OUTPUT: usize = 1536;
}
```
  </signatures>

  <constraints>
    <constraint>All dimension constants must match PRD specifications</constraint>
    <constraint>TOTAL_CONCATENATED must equal sum of individual dimensions</constraint>
    <constraint>FUSED_OUTPUT must equal 1536</constraint>
    <constraint>Sparse and HDC dimensions are projected values, not raw</constraint>
  </constraints>

  <verification>
    <check>Sum of all individual dimensions equals TOTAL_CONCATENATED</check>
    <check>FUSED_OUTPUT equals 1536</check>
    <check>All constants are compile-time constants (const)</check>
  </verification>
</definition_of_done>

<files_to_create>
  <file>crates/context-graph-embeddings/src/types/model_id.rs</file>
</files_to_create>

<validation_criteria>
  <criterion>cargo check passes</criterion>
  <criterion>cargo test passes</criterion>
  <criterion>Compile-time assertion: sum equals TOTAL_CONCATENATED</criterion>
</validation_criteria>

<dimension_calculation>
| Model | Raw Dimension | Projected | Used in Concat |
|-------|---------------|-----------|----------------|
| Semantic | 1024D | 1024D | 1024 |
| TemporalRecent | 512D | 512D | 512 |
| TemporalPeriodic | 512D | 512D | 512 |
| TemporalPositional | 512D | 512D | 512 |
| Causal | 768D | 768D | 768 |
| Sparse | ~30K | 1536D | 1536 |
| Code | 768D | 768D | 768 |
| Graph | 384D | 384D | 384 |
| HDC | 10K-bit | 1024D | 1024 |
| Multimodal | 768D | 768D | 768 |
| Entity | 384D | 384D | 384 |
| LateInteraction | 128D/tok | 128D | 128 |
| **TOTAL** | - | - | **8320** |
</dimension_calculation>
</task_spec>
```
